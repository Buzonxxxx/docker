[Container]
List all running processes
$ docker ps 

List all processes
$ docker ps -a

Create container and start
$ docker create [IMAGE NAME]
$ docker start -a [IMAGE ID] // -a: attach, output to terminal

List all containers
$ docker container ls

Stop Container
$ docker stop [CONTAINER NAME] // send system call to stop

Kill running docker container // shutdown immediately
$ docker kill [container ID]

kill all containers
$ docker kill $(docker ps -q)

Remove container
$ docker rm [CONTAINER NAME]

Remove all containers
$ docker rm $(docker container ls -aq)

[Image]
Download image and run
$ docker run [IMAGE NAME] / [IMAGE ID]
$ docker run [IMAGE NAME] [execute command] (e.g. echo hi there)
$ docker pull [IMAGE NAME]

List images
$ docker images

Remove images
$ docker rmi [IMAGE NAME]

Remove all images 
$ docker rmi $(docker images -a -q)

Build image
$ docker build . 
$ docker build -t ${image_name} [PATH]
//e.g docker build -t buzonliao/redis:latest 

Build image manually
$ docker run -it alpine sh
$ apk add --update redis
$ docker commit -c 'CMD ["redis-server"]' [CONTAINER ID]

[Logs]
$ docker logs [CONTAINER ID]

[Exec in Container]
$ docker exec [CONTAINER NAME] cat /bin/bash
$ docker exec -it [CONTAINER ID] [command] 
// -it: provide input to the container
// e.g. docker exec -it 29efccbcb776 redis-cli
// e.g. docker exec -it 29efccbcb776 sh // enter shell
$ docker run -it [IMAGE NAME] sh

[Delete all stopped containers/build cache/not used networks/dangling images]
$ docker system prune

[Docker Run]
Add port
$ docker run -p 9090:8080 tomcat:latest

Add version tag
$ docker run Ubuntu:17.04

Volume mapping
$ docker run -v /opt/datadir:/var/lib/mysql mysql

Inspect
$ docker inspect [CONTAINER ID]

Jenkins example
$ docker run -p 80:8080 -v /root/my-jenkins-data:/var/jenkins_home -u root jenkins
$ docker exec [CONTAINER ID] cat /var/jenkins_home/secrets/initialAdminPassword

[Docker Compose]
Download image and run
$ docker-compose up 

Building image and run
$ docker-compose up --build

Stop Container
$ docker-compose down

List all running processes
$ docker-compose ps







